:root{
  /* screen_* 비율 (너 이미지가 941x2048) */
  --screen-w: 941;
  --screen-h: 2048;

  /* ===== (핫스팟) 티켓 영역 =====
     지금 값은 대략값이야.
     화면에서 티켓 클릭이 살짝 어긋나면 여기만 미세조정하면 됨. */
  --ticket-left: 2%;
  --ticket-top: 33.5%;
  --ticket-w: 96%;
  --ticket-h: 18%;

  /* ===== (핫스팟) 위 흰 영역(게이트 여는 영역) ===== */
  --top-left: 0%;
  --top-top: 0%;
  --top-w: 100%;
  --top-h: 33.5%;

  /* ===== (게이트 박스) 게이트가 실제로 보이는 영역 =====
     게이트 카드가 “화면 어디에 떠있는지”에 맞춰 잡는 값.
     (너가 올린 screen_selected 기준으로 상단 영역에 게이트 뜨는 자리) */
  --gate-left: 0%;
  --gate-top: 18.5%;
  --gate-w: 100%;
  --gate-h: 16.5%;

  /* ===== (텍스트) 동그라미 3곳 ===== */
  /* 1) 청록바 오른쪽 시간 */
  --time-right: 6%;
  --time-top: 12.0%;
  --time-size: clamp(16px, 2.2vw, 22px);

  /* 2) 핑크 티켓 블록(F) */
  --block-left: 44.5%;
  --block-top: 48.2%;
  --block-size: clamp(22px, 3vw, 34px);

  /* 3) 핑크 티켓 번호(60) */
  --num-left: 56.5%;
  --num-top: 47.9%;
  --num-size: clamp(34px, 4.5vw, 54px);

  /* ===== gate 뒤 레이어 투명도(요구사항: 1이어야 함) ===== */
  --gate-tint-opacity: 1;
}

*{ box-sizing:border-box; }

html, body{
  margin:0;
  height:100%;
  background:#f2f2f2;
  font-family: -apple-system, system-ui, "Hiragino Sans", "Noto Sans JP", sans-serif;
  -webkit-font-smoothing: antialiased;
}

.app{
  width: min(430px, 100vw);
  margin: 0 auto;
  min-height: 100vh;
  background:#f2f2f2;
}

/* ✅ 화면 컨테이너: 비율 고정 */
.screenWrap{
  position: relative;
  width: 100%;
  aspect-ratio: 941 / 2048;
  background:#000;
  overflow:hidden;
}

.screenImg{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit: cover;
  display:block;
  pointer-events:none;
  user-select:none;
}

/* ===== 텍스트 오버레이 ===== */
.overlay{
  position:absolute;
  z-index: 30;
  pointer-events:none;
  color:#fff;
  font-weight: 900;
  text-shadow: 0 2px 0 rgba(0,0,0,.22);
}

.timeText{
  top: var(--time-top);
  right: var(--time-right);
  font-size: var(--time-size);
  letter-spacing: .3px;
}

.blockText{
  left: var(--block-left);
  top: var(--block-top);
  font-size: var(--block-size);
  letter-spacing: .2px;
}

.numText{
  left: var(--num-left);
  top: var(--num-top);
  font-size: var(--num-size);
  letter-spacing: .4px;
}

/* ===== 핫스팟 ===== */
.hotspot{
  position:absolute;
  background: transparent;
  border:0;
  padding:0;
}

/* ✅ 티켓이 우선 터치되도록 위로 */
.ticketHotspot{ z-index: 55; }
.topHotspot{ z-index: 45; }

.ticketHotspot{
  left: var(--ticket-left);
  top: var(--ticket-top);
  width: var(--ticket-w);
  height: var(--ticket-h);
}

.topHotspot{
  left: var(--top-left);
  top: var(--top-top);
  width: var(--top-w);
  height: var(--top-h);
}

/* ===== 게이트 오버레이 ===== */
.gateWrap{
  position:absolute;
  inset:0;
  display:none;
  z-index: 80;
  overflow:hidden;
}
.gateWrap.open{ display:block; }

/* 노란 안내(화면 전체 기준으로 올림) */
.noticeLayer{
  position:absolute;
  inset:0;
  z-index: 95;
  pointer-events:none;
}
.noticeImg{
  width:100%;
  height:100%;
  object-fit: cover;
  display:block;
  user-select:none;
  pointer-events:none;
}

/* ✅ gateBox: “게이트 카드가 존재하는 영역” */
.gateBox{
  position:absolute;
  left: var(--gate-left);
  top: var(--gate-top);
  width: var(--gate-w);
  height: var(--gate-h);
  z-index: 90;
  overflow:hidden;
  pointer-events:none; /* 실제 드래그는 gateMover가 받음 */
}

/* ✅ gateTint: gate와 크기 동일 + opacity 1 */
.gateTint{
  position:absolute;
  inset:0;
  background: transparent;
  opacity: var(--gate-tint-opacity);
  z-index: 91;
  pointer-events:none;
  transition: background-color 60ms linear;
}

/* ✅ gateMover: 게이트+화살표 같이 밀림 */
.gateMover{
  position:absolute;
  inset:0;
  z-index: 92;
  will-change: transform;
  touch-action:none;
  pointer-events:auto;  /* 드래그 받는 유일한 레이어 */
}

/* 이미지들은 gateBox를 꽉 채우되, 원본 이미지가 검정 여백 포함이면 cover로 잘라서 카드만 꽉 차게 */
.gateCardImg,
.arrowImg{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit: cover;
  display:block;
  user-select:none;
  pointer-events:none;
}

/* ===== 사용완료 토스트: gateBox 위치에 맞춰서 뜨게 ===== */
.usedToast{
  position:absolute;
  left: var(--gate-left);
  top: var(--gate-top);
  width: var(--gate-w);
  height: var(--gate-h);
  z-index: 100;
  display:none;
  pointer-events:none;
  opacity: 0;
  overflow:hidden;
}

.usedToastImg{
  width:100%;
  height:100%;
  object-fit: cover;
  display:block;
  user-select:none;
  pointer-events:none;
}

.usedToast.show{
  display:block;
  opacity: 1;
  transition: opacity 120ms ease;
}

.usedToast.fade{
  opacity: 0;
  transition: opacity 240ms ease;
}

/* ---- 디버그(원하면 body에 debug 클래스 붙여서 확인) ---- */
body.debug .ticketHotspot{ outline: 2px solid red; }
body.debug .topHotspot{ outline: 2px solid blue; }
body.debug .gateBox{ outline: 2px solid lime; }
