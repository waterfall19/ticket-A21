<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Gate Ticket</title>

<style>
* {
  box-sizing: border-box;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto;
}

body {
  margin: 0;
  background: #eef2f7;
}

/* ===== 상단 시간 바 ===== */
.time-bar {
  background: #66aeb6;
  color: #fff;
  text-align: center;
  padding: 10px;
  font-weight: 600;
}

/* ===== 주의 문구 ===== */
.notice {
  background: #f0ef5a;
  color: #b31212;
  padding: 10px;
  font-size: 14px;
}

/* ===== GATE 영역 ===== */
.gate-wrapper {
  position: relative;
  margin: 20px;
  overflow: hidden;
  border-radius: 12px;
}

/* gate 뒤 레이어 */
.gate-bg {
  position: absolute;
  inset: 0;
  background: #2f4aa0;
  opacity: 0.35; /* ✅ 투명도 조절 */
}

/* gate 본체 */
.gate {
  position: relative;
  background: #2f4aa0;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 40px;
  touch-action: pan-x;
  user-select: none;
}

/* 화살표 */
.arrow {
  color: rgba(255,255,255,0.5);
  font-size: 28px;
}

.gate-text {
  color: #7cc4ff;
  font-size: 28px;
  font-weight: 700;
}

/* ===== 티켓 ===== */
.ticket {
  margin: 20px;
  background: #c95a8a;
  border-radius: 12px;
  color: #fff;
  padding: 20px;
}

/* 터치 영역 = 시각 영역 동일 */
.ticket-inner {
  display: flex;
  gap: 16px;
  align-items: center;
}

.check {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: #fff;
  color: #c95a8a;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  font-weight: bold;
}

.ticket-text {
  flex: 1;
}

.big {
  font-size: 36px;
  font-weight: 800;
}
</style>
</head>

<body>

<div class="notice">
  スライドすると使用済になります。使用済チケットは、入場・再発行不可
</div>

<div class="time-bar" id="time"></div>

<!-- GATE -->
<div class="gate-wrapper">
  <div class="gate-bg"></div>

  <div class="gate" id="gate">
    <div class="arrow">◀◀</div>
    <div class="gate-text">GATE</div>
    <div class="arrow">▶▶</div>
  </div>
</div>

<!-- TICKET -->
<div class="ticket">
  <div class="ticket-inner">
    <div class="check">✓</div>
    <div class="ticket-text">
      <div>スタンディング</div>
      <div>ブロック 整理番号</div>
      <div class="big">F&nbsp;&nbsp;60</div>
    </div>
  </div>
</div>

<script>
/* ===== 시간 (밀리초 포함) ===== */
function updateTime() {
  const d = new Date();
  const pad = n => n.toString().padStart(2, "0");
  const ms = d.getMilliseconds().toString().padStart(2, "0");

  document.getElementById("time").innerText =
    `${d.getFullYear()}/${pad(d.getMonth()+1)}/${pad(d.getDate())} (${["日","月","火","水","木","金","土"][d.getDay()]}) `
    + `${pad(d.getHours())}:${pad(d.getMinutes())}:${pad(d.getSeconds())}.${ms}`;
}
setInterval(updateTime, 10);
updateTime();

/* ===== GATE 슬라이드 ===== */
const gate = document.getElementById("gate");
let startX = 0;
let currentX = 0;
let dragging = false;

gate.addEventListener("touchstart", e => {
  startX = e.touches[0].clientX;
  dragging = true;
});

gate.addEventListener("touchmove", e => {
  if (!dragging) return;
  currentX = e.touches[0].clientX - startX;
  gate.style.transform = `translateX(${currentX}px)`;
});

gate.addEventListener("touchend", () => {
  dragging = false;

  if (Math.abs(currentX) > 120) {
    gate.style.transition = "transform 0.3s ease";
    gate.style.transform = `translateX(${currentX > 0 ? 1000 : -1000}px)`;
  } else {
    gate.style.transition = "transform 0.3s ease";
    gate.style.transform = "translateX(0)";
  }

  setTimeout(() => {
    gate.style.transition = "";
    currentX = 0;
  }, 300);
});
</script>

</body>
</html>
